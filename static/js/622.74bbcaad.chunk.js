"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[622],{6622:function(e,s,t){t.r(s),t.d(s,{default:function(){return E}});var n=t(9439),a=t(2791),r=t(7689),i=t(8081),o=t(4139),c=t(4165),_=t(5861),l=t(2506),u={newPost:"NewPost_newPost__f5cjB",newPost__title:"NewPost_newPost__title__8ZT3e",form:"NewPost_form__XRrEh",newPost__input:"NewPost_newPost__input__HfL3h",newPost__submit:"NewPost_newPost__submit__FvVm0"},d=t(184);var f=function(e){var s=e.setInputMsg,t=function(){var e=(0,_.Z)((0,c.Z)().mark((function e(t,n){var a,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.setSubmitting,r=n.resetForm,s(t.messageText),r(),a(!1);case 4:case"end":return e.stop()}}),e)})));return function(s,t){return e.apply(this,arguments)}}();return(0,d.jsxs)("div",{className:u.newPost,children:[(0,d.jsx)("label",{htmlFor:"messageText",className:u.newPost__title,children:"What's new?"}),(0,d.jsx)(l.J9,{initialValues:{messageText:""},onSubmit:t,children:function(e){var s=e.isSubmitting;return(0,d.jsxs)(l.l0,{className:u.form,children:[(0,d.jsx)(l.gN,{type:"textarea",id:"messageText",name:"messageText",placeholder:"Write your thoughts here...",className:u.newPost__input}),(0,d.jsx)("button",{disabled:s,className:u.newPost__submit,type:"submit",children:(0,d.jsx)("i",{className:"fa-regular fa-paper-plane"})})]})}})]})},m=t(1243),h=t(7062),p={post:"Post_post__HXc8f",post__img:"Post_post__img__cVMHV",post__content:"Post_post__content__qyFKW",content__userName:"Post_content__userName__vL28n",content__message:"Post_content__message__8IlcL",content__more:"Post_content__more__kResS",post__info:"Post_post__info__Awd5b",info__icon:"Post_info__icon__Mx1bM",info__like:"Post_info__like__PLAm5"};var g=function(e){var s=e.userName,t=e.message,n=e.like;return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:p.post,children:[(0,d.jsx)("div",{className:p.post__photo,children:(0,d.jsx)("img",{className:p.post__img,src:"https://place-hold.it/30/781",alt:""})}),(0,d.jsxs)("div",{className:p.post__content,children:[(0,d.jsx)("div",{className:p.content__userName,children:s}),(0,d.jsx)("div",{className:p.content__message,children:t})]}),(0,d.jsxs)("div",{className:p.post__info,children:[(0,d.jsx)("div",{className:p.info__like,children:n}),(0,d.jsx)("div",{className:p.info__icon,children:(0,d.jsx)("i",{className:"fa-regular fa-heart"})})]})]})})},x={postsList:"PostsList_postsList__Rcb6P"};var j=function(e){var s=e.profileData,t=e.inputMsg,r=e.setInputMsg,i=(0,a.useState)(null),o=(0,n.Z)(i,2),c=o[0],_=o[1];return(0,a.useEffect)((function(){m.Z.get("https://dummyjson.com/posts/user/5").then((function(e){_(e.data.posts)}))}),[]),(0,a.useEffect)((function(){if(c&&""!==t){var e=structuredClone(c);e.unshift({id:c.length+1,title:t,reactions:0}),_(e)}return function(){r("")}}),[t]),(0,d.jsx)("div",{className:x.postsList,children:c?c.map((function(e){return(0,d.jsx)(g,{message:e.title,like:e.reactions,userName:s.fullName},e.id)})):(0,d.jsx)(h.Z,{})})},v={posts:"Profile_posts__hkAU5"},b=t(168),N=t(6444),P=t(9335),w={user__photo:"Image_user__photo__GQOQ0",user__img:"Image_user__img__dZpBH",label:"Image_label__gyqQe",img__icon:"Image_img__icon__EwN5N"};var U,Z=function(e){var s=e.profileData,t=e.isUserAuth,o=e.authUserData,c=(e.setBackgroundColor,(0,r.UO)().userId),_=(0,a.useState)(s.photos),l=(0,n.Z)(_,2),u=l[0],f=l[1];return(0,a.useEffect)((function(){f(s.photos)}),[s]),(0,d.jsx)("div",{className:w.user__photo,children:t&&o.id===+c?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("img",{className:w.user__img,src:u.large?u.large:u.small?u.small:P,alt:"ProfileImage"}),(0,d.jsx)("input",{type:"file",id:"file",hidden:!0,onChange:function(e){if(e.target.files.length){var s=e.target.files[0];i.b.savePhoto(s).then((function(e){f(e.data.photos)}))}}}),(0,d.jsx)("label",{htmlFor:"file",className:w.label,children:(0,d.jsx)("i",{className:"fa-regular fa-image ".concat(w.img__icon)})})]}):(0,d.jsx)("img",{className:"".concat(w.user__img),src:s.photos.large?s.photos.large:s.photos.small?s.photos.small:P,alt:"ProfileImage"})})},k={user__content:"ProfileUser_user__content__1od6r",user__container:"ProfileUser_user__container__22WJj",user__name:"ProfileUser_user__name__ANHMx",user__description:"ProfileUser_user__description__MmULC",user__social:"ProfileUser_user__social__p4Gvu",user__job:"ProfileUser_user__job__5dR6a",job__status:"ProfileUser_job__status__ZPeUf",job__desc:"ProfileUser_job__desc__EhqpP",sendMessage__container:"ProfileUser_sendMessage__container__E0W7S",SendMessage:"ProfileUser_SendMessage__-5e1Y"},S=t(1413),M={social:"Social_social__8bq8e",social_icons:"Social_social_icons__aiB6T",social_text:"Social_social_text__N1PY2"},C=N.ZP.div(U||(U=(0,b.Z)(["\n  font-size: 30px;\n  text-align: center;\n  padding: 2px 5px;\n\n  transition: transform 0.2s linear;\n\n  .facebook {\n    color: #4267b2;\n  }\n\n  .react {\n    color: #61dbfb;\n  }\n\n  .vk {\n    color: #4c75a3;\n  }\n\n  .twitter {\n    color: #1da1f2;\n  }\n\n  .instagram {\n    color: #c13584;\n  }\n\n  .youtube {\n    color: #ff0000;\n  }\n\n  .github {\n    color: #333;\n  }\n\n  a {\n    text-decoration: none;\n    color: inherit;\n  }\n\n  :hover {\n    transform: scale(1.1);\n  }\n"])));var I=function(e){return(0,d.jsx)(C,{children:(0,d.jsx)("a",{href:"https://".concat(e.value),className:e.classTag,target:"_blank",rel:"noreferrer",children:(0,d.jsx)("i",{className:"fa-brands fa-".concat(e.classTag)})})})};var y=function(e){var s,t=new Set;if(e.contacts){s=(0,S.Z)({},e.contacts);for(var a=0,r=Object.entries(s);a<r.length;a++){var i=(0,n.Z)(r[a],2),o=i[0],c=i[1];"website"===o&&null!==c?(s.react=c,delete s[o]):null===c||"mainLink"===o?delete s[o]:t.add(c)}}return(0,d.jsx)(d.Fragment,{children:!!t.size&&(0,d.jsxs)("div",{className:M.social,children:[(0,d.jsx)("div",{className:M.social_text,children:"SOCIAL"}),(0,d.jsx)("div",{className:M.social_icons,children:Object.entries(s).map((function(e,s){return(0,d.jsx)(I,{classTag:e[0],value:e[1]},s)}))})]})})},D={status__box:"Status_status__box__HYLys"};var A,F=function(e){var s=e.authUserData,t=e.isUserAuth,o=(0,r.UO)().userId,l=(0,a.useState)(!1),u=(0,n.Z)(l,2),f=u[0],m=u[1],h=(0,a.useState)(""),p=(0,n.Z)(h,2),g=p[0],x=p[1],j=(0,a.useState)(""),v=(0,n.Z)(j,2),b=v[0],N=v[1],P=(0,a.useCallback)((0,_.Z)((0,c.Z)().mark((function e(){var s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.getStatus(o);case 2:s=e.sent,x(s),N(s);case 5:case"end":return e.stop()}}),e)}))),[o]);return(0,a.useEffect)((function(){P().catch(console.error)}),[P]),(0,d.jsx)("div",{className:D.status__box,children:t&&s.id===+o?f?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m(!1),i.b.setStatus(b).then((function(e){0===e.resultCode&&x(b)}))},children:[(0,d.jsx)("input",{autoFocus:!0,onFocus:function(e){return e.target.select()},onBlur:function(e){setTimeout((function(){m(!1),N(g)}),100)},onChange:function(e){return N(e.target.value)},type:"text",value:b}),(0,d.jsx)("input",{type:"submit",value:"Sub"})]})}):g?(0,d.jsx)("div",{onClick:function(){return m(!0)},className:D.status__text,children:g}):(0,d.jsx)("div",{onClick:function(){return m(!0)},children:"Add status"}):(0,d.jsx)("div",{className:D.status__text,children:g})})},L=N.ZP.div.attrs((function(e){return{}}))(A||(A=(0,b.Z)(["\n  display: grid;\n  grid-template-columns: auto 1fr;\n\n  width: 100%;\n  height: 300px;\n\n  position: relative;\n\n  background: #ccc;\n  background: linear-gradient(90deg, #ccc);\n\n  border-radius: 10px;\n"])));var T=function(e){var s=e.profileData,t=e.isUserAuth,o=e.authUserData,l=(0,r.UO)().userId,u=(0,r.s0)(),f=(0,a.useState)([]),m=(0,n.Z)(f,2),p=m[0],g=m[1],x=function(){var e=(0,_.Z)((0,c.Z)().mark((function e(s){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.startChat(s);case 2:0===e.sent.resultCode&&u("/messages/".concat(s));case 4:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return(0,d.jsx)(d.Fragment,{children:s?(0,d.jsx)("div",{className:k.user__profile,children:(0,d.jsxs)(L,{backgroundColor:p,children:[(0,d.jsx)(Z,{profileData:s,isUserAuth:t,authUserData:o,setBackgroundColor:g}),s.contacts&&(0,d.jsx)(y,{contacts:s.contacts}),(0,d.jsx)("div",{className:k.user__content,children:(0,d.jsxs)("div",{className:k.user__container,children:[(0,d.jsx)("div",{className:k.user__name,children:s.fullName}),(0,d.jsx)(F,{isUserAuth:t,authUserData:o}),s.aboutMe&&(0,d.jsx)("div",{className:k.user__description,children:s.aboutMe}),t&&o.id!==+l?(0,d.jsx)("div",{className:k.sendMessage__container,onClick:function(){x(l)},children:(0,d.jsx)("div",{className:k.SendMessage,children:"Send Message"})}):null]})})]})}):(0,d.jsx)(h.Z,{})})};var E=function(){var e=(0,r.UO)().userId,s=(0,a.useContext)(o.Y),t=s.authUserData,c=s.isUserAuth,_=(0,a.useState)(""),l=(0,n.Z)(_,2),u=l[0],m=l[1],h=(0,a.useState)(),p=(0,n.Z)(h,2),g=p[0],x=p[1];return(0,a.useEffect)((function(){i.b.getProfile(e).then((function(e){x(e)}))}),[e]),(0,d.jsxs)("div",{className:v.profile,children:[(0,d.jsx)(T,{profileData:g,isUserAuth:c,authUserData:t}),c&&t.id===+e?(0,d.jsx)(f,{setInputMsg:m}):(0,d.jsx)("div",{className:v.posts,children:"Posts"}),(0,d.jsx)(j,{profileData:g,inputMsg:u,setInputMsg:m})]})}},9335:function(e,s,t){e.exports=t.p+"static/media/userImg.786cd0bf23ec91e54b7a.png"}}]);
//# sourceMappingURL=622.74bbcaad.chunk.js.map